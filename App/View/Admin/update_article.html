<% include ../Home/header.html%>

<div  ng-app="ArticleEdit" class="container" style="margin-top: 100px" ng-controller="FormCtroller">
    	<div class="row" ng-controller="FormCtroller">
    		 <div class="col-md-12">
    		 	<h2>修改文章</h2>
    		 	
    		 	<div>
    		 		<form class="form-horizontal" action="/admin/article/updateArticle" method="POST">
					  <div class="form-group">
					    <label for="title" class="col-sm-2 control-label">文章标题</label>
					    <div class="col-sm-10">
					      <input type="text" name="title" class="form-control" id="title" value="<%=data.t_title%>">
					      <input type="hidden" name="tid" class="form-control" id="tid" value="<%=data.t_id%>">
					    </div>
					  </div>
					  <div class="form-group">
					    <label for="typeId" class="col-sm-2 control-label">文章类型</label>
					    <div class="col-sm-10">
					    	<select class="form-control" name="typeId" id="typeId" style="width: 150px;">
							  <option ng-repeat="type in types" value="{{type.id}}" >{{type.type}}</option>
							</select>
					    </div>
					  </div>
					  <div class="form-group">
					    <label for="inputPassword3" class="col-sm-2 control-label">文章内容</label>
					    <div class="col-sm-10">
					       <!-- 加载编辑器的容器 -->
						    <script id="container" name="content" type="text/plain"><%-data.t_content%></script>
						    <!-- 配置文件 -->
						    <script type="text/javascript" src="/resource/ueditor/ueditor.config.js"></script>
						    <!-- 编辑器源码文件 -->
						    <script type="text/javascript" src="/resource/ueditor/ueditor.all.min.js"></script>
						    <script type="text/javascript" charset="utf-8" src="/resource/ueditor/lang/zh-cn/zh-cn.js"></script>
						    <!-- 实例化编辑器 -->
						    <script type="text/javascript">
						        var ue = UE.getEditor('container');
						    </script>
					    </div>
					  </div>
					  <div class="form-group">
					    <label for="inputPassword3" class="col-sm-2 control-label"></label>
					    <div class="col-sm-10">
					  		<button type="submit" class="btn btn-primary ">发表</button>
				  		</div>
				  	  </div>
					</form>
    		 	</div>
    		 </div>
    	</div>
    </div>
<script type="text/javascript" src="/resource/js/angular.min.js"></script>
<script type="text/javascript">
	var App = angular.module("ArticleEdit",[]);
	function FormCtroller($scope,$http){
		$http.get("/admin/article/articleType").success(function(data, status, headers, config){
			$scope.types = data;
		}).error(function(data, status, headers, config){
			console.log("get error");
		});
	}
</script>
<% include ../Home/footer.html%>